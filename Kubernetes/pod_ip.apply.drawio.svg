<svg host="65bd71144e" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="461px" height="851px" viewBox="-0.5 -0.5 461 851" content="&lt;mxfile&gt;&lt;diagram id=&quot;moWW7PsdiYL53nmA-gqV&quot; name=&quot;Page-1&quot;&gt;3Vlbj+o2EP41ltqHg+Lc85gEaCv1VKuiqu1jIF6wNsTIhF32/PrOOA65OOzSXQ677QuyJ/bY/ubzXAxx0u3xJ5ntNl9FzgpiW/mROFNi24Hjwy8KnmuBa4e1YC15XotoK1jwb0wLLS098JztewMrIYqK7/rClShLtqp6skxK8dQfdi+K/qq7bM0MwWKVFab0T55Xm1oa2kEr/5nx9aZZmfpR/WWbNYP1SfabLBdPHZEzI04qhajq1vaYsgKxa3Cp583PfD1tTLKyumSCXU94zIqDPpveV/XcHFaKQ5kzHG8RJ3na8IotdtkKvz6BdUG2qbYF9Cg0tTomK3Y8uyV6OigQhIktq+QzDNETnMbKmhzU1/2nFmrX07JNB+aTMNPmXZ90twhAQ4MwDohrnJ/lYHvdLUXJ+geGQ8nnvxCcie01/b81WKozPfZ6z7pXr4PKX8YJ9iIOcqVHOZrtmVyzqmNCE03Jiqzij33t70HGM6kyC0iUkIiSmUcii8TpTuRk5pJkTmIQ+iSkJJ6PIvprtgSf0IMyK/i6hPYKAGASBEgjDrcu1h+2PM9RRyLZnn/LlkofYrkTvKzU0byEeNOXeKhdgp7cXsQu7u6L/PwClo6iHkW/6FtzMeZa+R3uuzNE3N/vwaxDo5z2cJGdHMNOD4clkyWrwGXCWjv+8Vfc6l9x27zh1B654f4VLrg/Ck+hYe+iAuer+kffV1I8sFQUQrbO4J4XxUB0OZPHsO5b4xpwOwOPGpp4+yNwO1eAO/iEAcYfsM8z4XDcETxs9wqAhAYguVg9MLlg8pHDof+/LAwGsAe3Y2GTUlwc1t8WnSMzOgc3is70gkzuRkemZ3hw9TNHxpF/P5R3Il9kZb4Uxw93NG7gvepoqON9J8q/I5P1nH4qO7HoacSZdFb17pjksFF0Nu/IcWlT0nU55dzqHo2luRGBiBnFZBZiahsGKt+lJJmqZDchsYufIOUNUyUJSTi7LzLINItpZ3aTGNspDg9nJFGakhmJgmaepRtxzHejBvzMiTN9NXOmXtBPnbX2T5E5N8Tr2P6uOKx5+TUroaSXkwWr/tiBgyG2X2BQXkporbH1A1Q+v2Vbtlf+BAwMwNQSZUHJy7WSDufB0raFCSjAW2W8hEXSpvULbMCaTCY/mtNOG4EaC7iT+Io1qWKZp+jjN4SKz9RkqS7agIbA0GhKYltJUhKH2AjnHSUtKzWdgfR4GWaq+HPxJoB+LAddNV3dEyiS8FMMNeL4HrARoRJcDqZYShLirlACExudiaMu2FzdmACPGbp4P9QhQpg01VvGho9FaeKqhq+0avUP4V69wShj6lKoQcm4a6+Eh6unR67dT48c1zOChT2WlVLLe7/baxa/dfpARx40aHQrX2+WytprgzD/8PRh+BDmjyTMrjPCiOga6YNZJ5uEKPMYX1NbPuTZfqMQooPc4sir7iMZdE9vZNBucwrs9FIKnZB8/5c12yTiGR524B97hmxkbw1pjT8YVql0YNV683pWa1hDkXfuPbVRVB/ZUPSWADpS7YMXBu8NQcEBH2v1Q0MdUGCAhxEBHDsMC5Mm+sS9oNYGphD9O4Y58PJ1dDsFQfUV4gEGKWhP6xhhRt2dijR18IM1Ipz2WtzoRQscowLSv4qU/7l8zn8tn7P8xom+k+6DCdfJ58wCEUkGdESjBPgbzR/wabT4+PA/eB0J6UiteKU3Uei2/zDVuLZ/0zmzfwA=&lt;/diagram&gt;&lt;/mxfile&gt;">
    <defs/>
    <g>
        <rect x="10" y="140" width="450" height="450" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <path d="M 77.05 60 L 119.35 134.46" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 121.95 139.03 L 115.45 134.67 L 119.35 134.46 L 121.53 131.21 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 89px; margin-left: 92px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                监听pod信息
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="92" y="93" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    监听pod信息
                </text>
            </switch>
        </g>
        <rect x="0" y="0" width="120" height="60" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 30px; margin-left: 1px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                kubernetes api
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="60" y="34" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    kubernetes api
                </text>
            </switch>
        </g>
        <rect x="30" y="160" width="60" height="30" fill="none" stroke="none" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 175px; margin-left: 31px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                kubelet
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="60" y="179" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    kubelet
                </text>
            </switch>
        </g>
        <rect x="60" y="230" width="340" height="240" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <rect x="70" y="250" width="60" height="30" fill="none" stroke="none" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 265px; margin-left: 71px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                dockerService
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="100" y="269" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    dockerServ...
                </text>
            </switch>
        </g>
        <path d="M 242.22 260 L 241.11 318.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 241.01 323.88 L 237.64 316.82 L 241.11 318.63 L 244.64 316.95 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="175" y="230" width="135" height="30" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 133px; height: 1px; padding-top: 245px; margin-left: 176px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                RunPodSandbox
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="243" y="249" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    RunPodSandbox
                </text>
            </switch>
        </g>
        <path d="M 240.01 430 L 240.05 644.62" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 240.05 649.87 L 236.55 642.87 L 240.05 644.62 L 243.55 642.87 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 523px; margin-left: 242px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                通过命令行与flannelD通信,获得一个ip
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="242" y="527" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    通过命令行与flannelD通信,获得一个ip
                </text>
            </switch>
        </g>
        <rect x="120" y="325" width="240" height="105" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 378px; margin-left: 121px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                PluginManager.SetUpPod
                                <br/>
                                (podNamespace, podName string,
                                <br/>
                                id kubecontainer.ContainerID ...)
                                <br/>
                                SetUpPod时会带上pod信息,后面在另一个逻辑使用这些pod信息找到成功申请的ip,再反更新到k8s manager api上
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="240" y="381" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    PluginManager.SetUpPod...
                </text>
            </switch>
        </g>
        <path d="M 226.8 740 L 228.55 783.64" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 228.76 788.88 L 224.98 782.03 L 228.55 783.64 L 231.97 781.75 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="10" y="650" width="430" height="90" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 428px; height: 1px; padding-top: 695px; margin-left: 11px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                flannel d
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="225" y="699" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    flannel d
                </text>
            </switch>
        </g>
        <path d="M 122.5 140 L 242.5 230" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 183px; margin-left: 180px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                注: 这个流程只会在创建pod时分配ip,
                                <br/>
                                ip怎么更新到k8s api上是另一个逻辑
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="180" y="186" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    注: 这个流程只会在创建pod时分配ip,...
                </text>
            </switch>
        </g>
        <rect x="170" y="790" width="120" height="60" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 820px; margin-left: 171px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                系统kernel
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="230" y="824" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    系统kernel
                </text>
            </switch>
        </g>
    </g>
    <switch>
        <g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/>
        <a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank">
            <text text-anchor="middle" font-size="10px" x="50%" y="100%">
                Text is not SVG - cannot display
            </text>
        </a>
    </switch>
</svg>